##############################################################################
# Generic C++ Makefile - Tammy Cravit - tammymakesthings@gmail.com
##############################################################################

#-----------------------------------------------------------------------------
# Excutable name
#-----------------------------------------------------------------------------
EXEC         := $(shell basename $(PWD))

#-----------------------------------------------------------------------------
# Tool names/paths
#-----------------------------------------------------------------------------

CC           := clang++
CXX          := clang++
LINK         := clang

#-----------------------------------------------------------------------------
# My folders for shared C++ libraries
#-----------------------------------------------------------------------------
INCLUDE_DIRS := -I$(HOME)/projects/cpplibraries/include
LIB_DIRS     := -L$(HOME)/projects/cpplibraries/lib

#-----------------------------------------------------------------------------
# Compiler flags
#-----------------------------------------------------------------------------
CFLAGS       := -Wall \
                -std=c++20 -x c++ \
                $(INCLUDE_DIRS)

CXXFLAGS       := -Wall \
                  -std=c++20 -x c++ \
                  $(INCLUDE_DIRS)

LDFLAGS      :=  $(LIB_DIRS) 

#-----------------------------------------------------------------------------
# Find all of the source files
#-----------------------------------------------------------------------------
SOURCE_FILES := $(wildcard *.cpp)
OBJECTS      := $(SOURCE_FILES:.cpp=.o)

#-----------------------------------------------------------------------------
# Compile targets
#-----------------------------------------------------------------------------
all: $(OBJECTS)
	$(LINK) $(LDFLAGS) -o $(EXEC) $(OBJECTS) -lc++

clean:
	$(RM) $(OBJECTS)

veryclean: clean
	$(RM) $(EXEC)

.DEFAULT: all

.PHONY: clean veryclean
